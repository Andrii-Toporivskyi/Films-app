{"version":3,"sources":["components/Filters/SortBy.jsx","components/UIComponents/UISelect.jsx","components/Filters/PrimaryReleaseYear.jsx","components/Filters/Pagination.jsx","api/api.js","components/Filters/Genres.jsx","components/Filters/Filters.jsx","components/Movies/MovieItem.jsx","components/Movies/MoviesList.jsx","components/Movies/MoviesHOC.jsx","components/HOC/AppContextHOC.jsx","components/Header/Login/LoginForm.jsx","components/Header/Login/Login.jsx","components/Header/UserMenu.jsx","components/Header/Header.jsx","components/pages/MoviesPage/MoviesPage.jsx","components/pages/MoviePage/MoviePage.jsx","components/App.jsx","index.js"],"names":["SortBy","_this$props","this","props","sort_by","onChangeFilters","options","react_default","a","createElement","className","htmlFor","id","name","value","onChange","map","option","key","label","React","Component","defaultProps","image","UISelect","labelText","children","PrimaryReleaseYear","primary_release_year","UISelect_UISelect","PureComponent","Pagination","nextPage","_this","onChangePagination","page","total_pages","prevPage","event","classNames","disabled","onClick","API_URL","API_KEY_3","fetchApi","url","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","_options$params","params","queryStringParams","Object","objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","_options$params2","_options$body","body","method","JSON","Genres","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","target","checked","toConsumableArray","with_genres","filter","genre","resetGenres","state","genresList","_this2","link","setState","genres","_this3","Fragment","type","includes","String","Filters","_this$props$filters","filters","SortBy_SortBy","PrimaryReleaseYear_PrimaryReleaseYear","Filters_Genres","Pagination_Pagination","MovieItem","item","style","width","src","backdrop_path","poster_path","alt","react_router_dom","to","title","vote_average","MoviesList","_ref","movies","movie","MovieItem_MovieItem","MoviesHOC","_React$Component","getMovies","language","join","get","results","inherits","createClass","prevProps","_","isEqual","HOC_AppContextHOC","AppContextHOC","apply","AppContext","Consumer","context","assign","username","password","errors","submitting","e","prevState","defineProperty","base","handleBlur","validateFields","keys","onSubmit","session_id","post","request_token","user","updateAuth","status_message","onLogin","preventDefault","getClassForInput","invalid","_this$state","placeholder","onBlur","Login","toggleModal","showModal","Modal","isOpen","toggle","ModalBody","Login_LoginForm","dropdownOpen","toggleDropdown","handleLogOut","onLogOut","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","avatar","gravatar","hash","DropdownMenu","right","DropdownItem","Header","Header_UserMenu","Login_Login","MoviesPage","_ref$total_pages","Filters_Filters","Movies_MoviesList","MoviePage","match","cookies","Cookies","createContext","App","updateUser","updateSessionId","set","path","maxAge","remove","Provider","components_Header_Header","react_router","exact","component","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.0f8a2ccd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SortBy extends React.Component {\r\n  static propTypes = {\r\n    sort_by: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"Популярні по спаданні\",\r\n        value: \"popularity.desc\",\r\n        image: \"/lol.jpg\"\r\n      },\r\n      {\r\n        label: \"Популярні по зростанні\",\r\n        value: \"popularity.asc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по спаданні\",\r\n        value: \"vote_average.desc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по зростанні\",\r\n        value: \"vote_average.asc\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  render() {\r\n    const { sort_by, onChangeFilters, options } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sort_by\">Сортувати по:</label>\r\n        <select\r\n          id=\"sort_by\"\r\n          className=\"form-control\"\r\n          name=\"sort_by\"\r\n          value={sort_by}\r\n          onChange={onChangeFilters}\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class UISelect extends React.Component {\r\n  static propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { id, name, value, onChange, labelText, children } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor={id}>{labelText}</label>;\r\n        <select\r\n          id={id}\r\n          className=\"form-control\"\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n        >\r\n          {children}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport UISelect from \"../UIComponents/UISelect\";\r\n\r\nexport default class PrimaryReleaseYear extends React.PureComponent {\r\n  static propTypes = {\r\n    primary_release_year: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"2021\",\r\n        value: \"2021\"\r\n      },\r\n      {\r\n        label: \"2020\",\r\n        value: \"2020\"\r\n      },\r\n      {\r\n        label: \"2019\",\r\n        value: \"2019\"\r\n      },\r\n      {\r\n        label: \"2018\",\r\n        value: \"2018\"\r\n      },\r\n      {\r\n        label: \"2017\",\r\n        value: \"2017\"\r\n      },\r\n      {\r\n        label: \"2016\",\r\n        value: \"2016\"\r\n      },\r\n      {\r\n        label: \"2015\",\r\n        value: \"2015\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  render() {\r\n    const { primary_release_year, onChangeFilters, options } = this.props;\r\n    return (\r\n      <UISelect\r\n        id=\"primary_release_year\"\r\n        name=\"primary_release_year\"\r\n        value={primary_release_year}\r\n        onChange={onChangeFilters}\r\n        labelText=\"Рік реалізу:\"\r\n      >\r\n        {options.map(option => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </UISelect>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class Pagination extends React.Component {\r\n  nextPage = () => {\r\n    this.props.onChangePagination({\r\n      page: this.props.page + 1,\r\n      total_pages: this.props.total_pages\r\n    });\r\n  };\r\n\r\n  prevPage = page => event => {\r\n    this.props.onChangePagination({\r\n      page: this.props.page - 1,\r\n      total_pages: this.props.total_pages\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { page, total_pages } = this.props;\r\n    return (\r\n      <nav className=\"d-flex align-items-center\">\r\n        <ul className=\"pagination mb-0 mr-3\">\r\n          <li\r\n            className={classNames(\"page-item\", {\r\n              disabled: page === 1\r\n            })}\r\n          >\r\n            <span className=\"page-link\" onClick={this.prevPage(page)}>\r\n               Назад\r\n            </span>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <span className=\"page-link\" onClick={this.nextPage}>\r\n              Вперед\r\n            </span>\r\n          </li>\r\n        </ul>\r\n        <span>\r\n          {page} of {total_pages}\r\n        </span>\r\n      </nav>\r\n    );\r\n  }\r\n}","import queryString from \"query-string\";\n\nexport const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"7948b777e34e4a39f237535444ae8eef\";\n\nexport const API_KEY_4 =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3OTQ4Yjc3N2UzNGU0YTM5ZjIzNzUzNTQ0NGFlOGVlZiIsInN1YiI6IjYwZGRlMDE5ZDk1NDIwMDA1ZDMyZWYxNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.iIc4NPNsXK-5MDLJUafpnC0IbDByNkeoZP5UXII-oIU\";\n\nexport const fetchApi = (url, options = {}) => {\n  return new Promise((resolve, reject) => {\n    fetch(url, options)\n      .then(response => {\n        if (response.status < 400) {\n          return response.json();\n        } else {\n          throw response;\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(response => {\n        response.json().then(error => {\n          reject(error);\n        });\n      });\n  });\n};\n\nexport default class CallApi {\n  static get(url, options = {}) {\n    const { params = {} } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n  \n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      }\n    );\n  }\n  static post(url, options = {}) {\n    const { params = {}, body = {} } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      }\n    );\n  }\n}","import React from \"react\";\r\nimport { API_KEY_3, API_URL } from \"../../api/api\";\r\n\r\nclass Genres extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      genresList: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const link = `${API_URL}/genre/movie/list?api_key=${API_KEY_3}&language=uk-UK`;\r\n    fetch(link)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          genresList: data.genres\r\n        });\r\n      });\r\n  }\r\n\r\n  onChange = event => {\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: event.target.checked\r\n          ? [...this.props.with_genres, event.target.value]\r\n          : this.props.with_genres.filter(genre => genre !== event.target.value)\r\n      }\r\n    });\r\n  };\r\n\r\n  resetGenres = () => {\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: []\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { genresList } = this.state;\r\n    const { with_genres } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"mb-2\">Жанри:</div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark mb-1\"\r\n            onClick={this.resetGenres}\r\n          >\r\n            Показати всі жанри\r\n          </button>\r\n        </div>\r\n        {genresList.map(genre => (\r\n          <div key={genre.id} className=\"form-check\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              value={genre.id}\r\n              id={`genre${genre.id}`}\r\n              onChange={this.onChange}\r\n              checked={with_genres.includes(String(genre.id))}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor={`genre${genre.id}`}>\r\n              {genre.name}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Genres;","import React from \"react\";\nimport SortBy from \"./SortBy\";\nimport PrimaryReleaseYear from \"./PrimaryReleaseYear\";\nimport Pagination from \"./Pagination\";\nimport Genres from \"./Genres\";\n\nexport default class Filters extends React.Component {\n  render() {\n    const {\n      filters: { sort_by, primary_release_year, with_genres },\n      page,\n      total_pages,\n      onChangeFilters,\n      onChangePagination\n    } = this.props;\n    return (\n      <form className=\"mb-3\">\n        <SortBy sort_by={sort_by} onChangeFilters={onChangeFilters} />\n        <PrimaryReleaseYear\n          primary_release_year={primary_release_year}\n          onChangeFilters={onChangeFilters}\n        />\n        <div className=\"mb-3\">\n          <Genres with_genres={with_genres} onChangeFilters={onChangeFilters} />\n        </div>\n        <Pagination\n          page={page}\n          total_pages={total_pages}\n          onChangePagination={onChangePagination}\n        />\n      </form>\n    );\n  }\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class MovieItem extends React.Component {\n  render() {\n    const { item } = this.props;\n    return (\n      <div className=\"card\" style={{ width: \"100%\" }}>\n        <img\n          className=\"card-img-top card-img--height\"\n          src={`https://image.tmdb.org/t/p/w500${item.backdrop_path ||\n            item.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <Link className=\"card-title\" to={`/movie/${item.id}`}>\n            {item.title}\n          </Link>\n          <div className=\"card-text\">Рейтинг: {item.vote_average}</div>\n        </div>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport PropTypes from \"prop-types\";\nimport MoviesHOC from \"./MoviesHOC\";\n\nconst MoviesList = ({ movies }) => (\n  <div className=\"row\">\n    {movies.map(movie => {\n      return (\n        <div key={movie.id} className=\"col-6 mb-4\">\n          <MovieItem item={movie} />\n        </div>\n      );\n    })}\n  </div>\n);\n\nMoviesList.defaultProps = {\n  movies: []\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired\n};\n\nexport default MoviesHOC(MoviesList);","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\nimport _ from \"lodash\";\r\n\r\nexport default Component =>\r\n  class MoviesHOC extends React.Component {\r\n    constructor() {\r\n      super();\r\n\r\n      this.state = {\r\n        movies: []\r\n      };\r\n    }\r\n\r\n    getMovies = (filters, page) => {\r\n      const { sort_by, primary_release_year, with_genres } = filters;\r\n      const queryStringParams = {\r\n        language: \"uk-UK\",\r\n        sort_by: sort_by,\r\n        page: page,\r\n        primary_release_year: primary_release_year\r\n      };\r\n\r\n      if (with_genres.length > 0)\r\n        queryStringParams.with_genres = with_genres.join(\",\");\r\n\r\n      CallApi.get(\"/discover/movie\", {\r\n        params: queryStringParams\r\n      }).then(data => {\r\n        this.props.onChangePagination({\r\n          page: data.page,\r\n          total_pages: data.total_pages\r\n        });\r\n        this.setState({\r\n          movies: data.results\r\n        });\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getMovies(this.props.filters, this.props.page);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (!_.isEqual(this.props.filters, prevProps.filters)) {\r\n        this.props.onChangePagination({ page: 1 });\r\n        this.getMovies(this.props.filters, 1);\r\n      }\r\n\r\n      if (this.props.page !== prevProps.page) {\r\n        this.getMovies(this.props.filters, this.props.page);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <Component movies={this.state.movies} />;\r\n    }\r\n  };","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default Component =>\r\n  class AppContextHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {context => <Component {...this.props} {...context} />}\r\n        </AppContext.Consumer>\r\n      );\r\n    }\r\n  };","import React from \"react\";\r\nimport CallApi, { API_URL, API_KEY_3, fetchApi } from \"../../../api/api\";\r\nimport classNames from \"classnames\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    errors: {},\r\n    submitting: false\r\n  };\r\n\r\n  onChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState(prevState => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        base: null,\r\n        [name]: null\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleBlur = () => {\r\n    const errors = this.validateFields();\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  validateFields = () => {\r\n    const errors = {};\r\n\r\n    if (this.state.username === \"\") {\r\n      errors.username = \"Not empty\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  onSubmit = () => {\r\n    this.setState({\r\n      submitting: true\r\n    });\r\n    let session_id = null;\r\n    CallApi.get(\"/authentication/token/new\")\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/token/validate_with_login\", {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token\r\n          }\r\n        });\r\n      })\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/session/new\", {\r\n          body: {\r\n            request_token: data.request_token\r\n          }\r\n        });\r\n      })\r\n      .then(data => {\r\n        session_id = data.session_id;\r\n        return CallApi.get(\"/account\", {\r\n          params: {\r\n            session_id: data.session_id\r\n          }\r\n        });\r\n      })\r\n      .then(user => {\r\n        this.setState(\r\n          {\r\n            submitting: false\r\n          },\r\n          () => {\r\n            this.props.updateAuth({ user, session_id });\r\n          }\r\n        );\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          submitting: false,\r\n          errors: {\r\n            base: error.status_message\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  onLogin = e => {\r\n    e.preventDefault();\r\n    const errors = this.validateFields();\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors\r\n        }\r\n      }));\r\n    } else {\r\n      this.onSubmit();\r\n    }\r\n  };\r\n\r\n  getClassForInput = key =>\r\n    classNames(\"form-control\", {\r\n      invalid: this.state.errors[key]\r\n    });\r\n\r\n  render() {\r\n    const { username, password, errors, submitting } = this.state;\r\n    return (\r\n      <div className=\"form-login-container\">\r\n        <form className=\"form-login\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal text-center\">\r\n            Авторизація\r\n          </h1>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Користувач</label>\r\n            <input\r\n              type=\"text\"\r\n              className={this.getClassForInput(\"username\")}\r\n              id=\"username\"\r\n              placeholder=\"Користувач\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.username && (\r\n              <div className=\"invalid-feedback\">{errors.username}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className={this.getClassForInput(\"password\")}\r\n              id=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.onChange}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"invalid-feedback\">{errors.password}</div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.onLogin}\r\n            disabled={submitting}\r\n          >\r\n            Вхід\r\n          </button>\r\n          {errors.base && (\r\n            <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(LoginForm);","import React from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nexport default class Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      showModal: false\r\n    };\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button\r\n          className=\"btn btn-success\"\r\n          type=\"button\"\r\n          onClick={this.toggleModal}\r\n        >\r\n          Login\r\n        </button>\r\n        <Modal isOpen={this.state.showModal} toggle={this.toggleModal}>\r\n          <ModalBody>\r\n            <LoginForm />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport { fetchApi, API_URL, API_KEY_3 } from \"../../api/api\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\n\r\nclass UserMenu extends Component {\r\n  state = {\r\n    dropdownOpen: false\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  };\r\n\r\n  handleLogOut = () => {\r\n    fetchApi(`${API_URL}/authentication/session?api_key=${API_KEY_3}`, {\r\n      method: \"DELETE\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        session_id: this.props.session_id\r\n      })\r\n    }).then(() => {\r\n      this.props.onLogOut();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle\r\n          tag=\"div\"\r\n          onClick={this.toggleDropdown}\r\n          data-toggle=\"dropdown\"\r\n          aria-expanded={this.state.dropdownOpen}\r\n        >\r\n          <img\r\n            width=\"40\"\r\n            className=\"rounded-circle\"\r\n            src={`https://secure.gravatar.com/avatar/${\r\n              user.avatar.gravatar.hash\r\n            }.jpg?s=64\"`}\r\n            alt=\"\"\r\n            onClick={this.toggleDropdown}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={this.handleLogOut}>Вийти</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(UserMenu);","import React from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport UserMenu from \"./UserMenu\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"nav-link\">Home</a>\r\n            </li>\r\n          </ul>\r\n          {user ? <UserMenu /> : <Login />}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesList from \"../../Movies/MoviesList\";\r\nimport { API_URL, API_KEY_3, fetchApi } from \"../../../api/api\";\r\n\r\nexport default class MoviesPage extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      filters: {\r\n        sort_by: \"popularity.desc\",\r\n        primary_release_year: \"2018\",\r\n        with_genres: []\r\n      },\r\n      page: 1,\r\n      total_pages: \"\"\r\n    };\r\n  }\r\n\r\n  onChangeFilters = event => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState(prevState => ({\r\n      filters: {\r\n        ...prevState.filters,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  onChangePagination = ({ page, total_pages = this.state.total_pages }) => {\r\n    this.setState({\r\n      page,\r\n      total_pages\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { filters, page, total_pages } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card w-100\">\r\n              <div className=\"card-body\">\r\n                <h3>Фільтри:</h3>\r\n                <Filters\r\n                  page={page}\r\n                  total_pages={total_pages}\r\n                  filters={filters}\r\n                  onChangeFilters={this.onChangeFilters}\r\n                  onChangePagination={this.onChangePagination}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesList\r\n              filters={filters}\r\n              page={page}\r\n              onChangePagination={this.onChangePagination}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\n\r\nexport default class MoviePage extends React.Component {\r\n  componentDidMount() {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`);\r\n  }\r\n\r\n  render() {\r\n    return <div>MoviePage</div>;\r\n  }\r\n}","import React from \"react\";\nimport Filters from \"./Filters/Filters\";\nimport MoviesList from \"./Movies/MoviesList\";\nimport Header from \"./Header/Header\";\nimport { API_URL, API_KEY_3, fetchApi } from \"../api/api\";\nimport MoviesPage from \"./pages/MoviesPage/MoviesPage\";\nimport MoviePage from \"./pages/MoviePage/MoviePage\";\nimport Cookies from \"universal-cookie\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\n\nconst cookies = new Cookies();\n\nexport const AppContext = React.createContext();\nexport default class App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      user: null,\n      session_id: null\n    };\n  }\n\n  updateUser = user => {\n    this.setState({\n      user\n    });\n  };\n\n  updateSessionId = session_id => {\n    cookies.set(\"session_id\", session_id, {\n      path: \"/\",\n      maxAge: 2592000\n    });\n    this.setState({\n      session_id\n    });\n  };\n\n  onLogOut = () => {\n    cookies.remove(\"session_id\");\n    this.setState({\n      session_id: null,\n      user: null\n    });\n  };\n\n  componentDidMount() {\n    const session_id = cookies.get(\"session_id\");\n    if (session_id) {\n      fetchApi(\n        `${API_URL}/account?api_key=${API_KEY_3}&session_id=${session_id}`\n      ).then(user => {\n        this.updateUser(user);\n        this.updateSessionId(session_id);\n      });\n    }\n  }\n\n  render() {\n    const { user, session_id } = this.state;\n    return (\n      <BrowserRouter>\n        <AppContext.Provider\n          value={{\n            user,\n            session_id,\n            updateUser: this.updateUser,\n            updateSessionId: this.updateSessionId,\n            onLogOut: this.onLogOut\n          }}\n        >\n          <div>\n            <Header user={user} />\n            <Route exact path=\"/\" component={MoviesPage} />\n            <Route path=\"/movie/:id\" component={MoviePage} />\n\n            {/*\n              \"/\" - MoviesPage\n              \"/movie/1\" - Movie with id = 1\n            */}\n          </div>\n        </AppContext.Provider>\n      </BrowserRouter>\n    );\n  }\n}","  \nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}